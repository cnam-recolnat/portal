#-----------------------------------------------------------8<----------------------------------------------------------
# Base with SSH support
#-----------------------------------------------------------8<----------------------------------------------------------
FROM		tutum/debian-wheezy
MAINTAINER	Arie Benichou <arie.benichou@gmail.com>
#-----------------------------------------------------------8<----------------------------------------------------------
# System Tools
#-----------------------------------------------------------8<----------------------------------------------------------
RUN			apt-get update && apt-get dist-upgrade -y -q && \
			apt-get install -y -q \
				nano \
		  		curl \
		  		git \
				netcat \
		  		net-tools \
		  		lsof \
		  		rsync
#-----------------------------------------------------------8<----------------------------------------------------------
# HAProxy
#-----------------------------------------------------------8<----------------------------------------------------------
RUN			apt-get install -y -q haproxy
#-----------------------------------------------------------8<----------------------------------------------------------
# Cleaning
#-----------------------------------------------------------8<----------------------------------------------------------
RUN			apt-get autoclean && apt-get autoremove
#-----------------------------------------------------------8<----------------------------------------------------------
# Workspace
#-----------------------------------------------------------8<----------------------------------------------------------
ADD			./⁄/root/ /root/
RUN			chmod -R +x /root/*
#-----------------------------------------------------------8<----------------------------------------------------------
# Main
#-----------------------------------------------------------8<----------------------------------------------------------
EXPOSE 80
ENTRYPOINT  ["/root/main.sh"]
#-----------------------------------------------------------8<----------------------------------------------------------
