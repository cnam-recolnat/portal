#-----------------------------------------------------------8<----------------------------------------------------------
# Base with SSH support
#-----------------------------------------------------------8<----------------------------------------------------------
FROM		tutum/debian-wheezy
MAINTAINER	Arie Benichou <arie.benichou@gmail.com>
#-----------------------------------------------------------8<----------------------------------------------------------
# System Tools
#-----------------------------------------------------------8<----------------------------------------------------------
RUN			apt-get update && \
			DEBIAN_FRONTEND=noninteractive apt-get dist-upgrade -y -q && \
			DEBIAN_FRONTEND=noninteractive  apt-get install -y -q \
				nano \
		  		curl \
		  		git \
				netcat \
		  		net-tools \
		  		lsof \
		  		rsync
#-----------------------------------------------------------8<----------------------------------------------------------
# Java Virtual Machine
#-----------------------------------------------------------8<----------------------------------------------------------
RUN		    echo "deb http://ppa.launchpad.net/webupd8team/java/ubuntu precise main" \
            > /etc/apt/sources.list.d/webupd8team-java.list && \
		    apt-key adv --keyserver keyserver.ubuntu.com --recv-keys EEA14886 && \
		    echo debconf shared/accepted-oracle-license-v1-1 select true | debconf-set-selections && \
		    apt-get update && DEBIAN_FRONTEND=noninteractive apt-get install -y -q oracle-java8-installer
#-----------------------------------------------------------8<----------------------------------------------------------
# Scala Build Tools aka SBT
#-----------------------------------------------------------8<----------------------------------------------------------
RUN			echo "deb http://dl.bintray.com/sbt/debian /" > /etc/apt/sources.list.d/sbt.list && \
			apt-get update && apt-get install -y -q --force-yes sbt
#-----------------------------------------------------------8<----------------------------------------------------------
# Cleaning
#-----------------------------------------------------------8<----------------------------------------------------------
RUN			apt-get autoclean && apt-get autoremove
#-----------------------------------------------------------8<----------------------------------------------------------
# Workspace
#-----------------------------------------------------------8<----------------------------------------------------------
ADD			./⁄/root/ /root/
RUN			chmod -R +x /root/*.sh
#-----------------------------------------------------------8<----------------------------------------------------------
# Main
#-----------------------------------------------------------8<----------------------------------------------------------
EXPOSE 22
ENTRYPOINT  ["/root/main.sh"]
#-----------------------------------------------------------8<----------------------------------------------------------
