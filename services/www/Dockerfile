 
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
# Base with SSH support
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
FROM 		tutum/debian-wheezy
MAINTAINER 	Arie Benichou <arie.benichou@gmail.com>
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
# System Tools
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
RUN		apt-get update && \
		DEBIAN_FRONTEND=noninteractive apt-get upgrade -y -q && \
		DEBIAN_FRONTEND=noninteractive  apt-get install -y -q \
		  unzip \
		  wget \
		  curl \
		  nano \
		  git \
		  rsync \
		  netcat \
		  net-tools \
		  lsof
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
# Node JS :p
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
RUN		echo "deb http://ftp.fr.debian.org/debian wheezy-backports main" >> /etc/apt/sources.list && \
		apt-get update && apt-get install -y -q nodejs nodejs-legacy
RUN		curl -sL http://www.npmjs.org/install.sh | sh
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
# Cleaning
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
RUN		apt-get autoclean && apt-get autoremove
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
# Workspace
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
ADD             	assets/root/ /root/
RUN			chmod -R +x /root/init/*
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
# Main
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------
EXPOSE 22
ENTRYPOINT     		["/root/init/main"]
#-------------------------------------------------------------------------8<-------------------------------------------------------------------------